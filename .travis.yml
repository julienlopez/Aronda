language: cpp
sudo: required
dist: trusty
compiler:
  - gcc
os:
  - linux
      addons:
        apt:
          sources:
            - ubuntu-toolchain-r-test
          packages:
            - g++-7

before_install:
  - sudo chmod 777 ./travis-scripts/*
  - ./travis-scripts/dependencies.sh
  - pip install --user cpp-coveralls
script:
  - ./travis-scripts/build.sh
after_success:
  - coveralls --include ../lib --include ./lib/CMakeFiles/libAronda.dir --exclude ../third_party --exclude tests --gcov-options '\-lp' --verbose

branches:
  only:
  - master